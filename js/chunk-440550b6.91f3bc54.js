(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-440550b6"],{"0468":function(t,e){t.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/wait_pay.65ca9afc.png"},"1d0f":function(t,e,i){},"2baf":function(t,e,i){},3481:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-content"},[i("div",{staticClass:"co-main page-section--mt advantage-wrap"},[i("BaseStepBar",{staticClass:"m-t-10",attrs:{activeIndex:1}}),i("div",{staticClass:"order-detail m-t-10"},[i("div",{staticClass:"t-order-info"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.orderDetail.orderAmount,expression:"orderDetail.orderAmount"}],staticClass:"left"},[i("div",{staticClass:"order-stu"},[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:t.orderStuIcons[t.orderStu]}})]),i("p",[t._v(t._s(t.orderStuTexts[t.orderStu]))]),i("span",{directives:[{name:"show",rawName:"v-show",value:0===t.orderStu,expression:"orderStu === 0"}]},[t._v("剩余时间")]),i("span",{directives:[{name:"show",rawName:"v-show",value:0===t.orderStu,expression:"orderStu === 0"}],staticClass:"clock"},[t._v(t._s(t.clockText))])]),i("p",{staticStyle:{"margin-top":"25px"}},[t._v(t._s(t.orderStuMessages[t.orderStu]))]),i("p",{staticClass:"mt-18"},[t._v("订单编号："+t._s(t.orderDetail.orderNo))]),i("p",{staticClass:"mt-18"},[t._v("下单时间："+t._s(t.timestampToTime(t.orderDetail.orderTime)))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.orderDetail.orderAmount,expression:"orderDetail.orderAmount"}],staticClass:"right"},[i("div",{staticClass:"price"},[i("p",[t._v("¥"+t._s(t.orderDetail.orderAmount))])]),t.orderStu?t._e():i("el-button",{staticClass:"mt-16",staticStyle:{background:"#FF6600",color:"#fff"},attrs:{disabled:""}},[t._v("立即付款")]),t.orderStu?t._e():i("span",{staticStyle:{"margin-top":"10px"},on:{click:t.cancelOrder}},[t._v("取消订单")])],1)]),i("div",{staticClass:"dot-title mt-30"},[t._v(" 订单详情 ")]),i("div",{staticClass:"dot-hr"}),i("div",{staticClass:"ticket-order-box mt-20"},[t.orderDetail.airTicketsOrderDetails?i("TicketItem",{attrs:{index:0,item:t.orderDetail.airTicketsOrderDetails[0]}}):t._e(),t.orderDetail.airTicketsOrderDetails&&2===t.orderDetail.airTicketsOrderDetails.length?i("TicketItem",{staticClass:"mt-40",attrs:{index:1,item:t.orderDetail.airTicketsOrderDetails[1]}}):t._e()],1),i("div",{staticClass:"dot-title mt-30"},[t._v(" 乘客信息 ")]),i("div",{staticClass:"dot-hr"}),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"memberListTable mt-20",staticStyle:{width:"100%"},attrs:{data:t.orderDetail.passengers,border:""}},[i("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"姓名","min-width":"295",prop:"name"}}),i("el-table-column",{attrs:{prop:"teamType","min-width":"295",label:"证件类型"}},[[t._v(" 身份证 ")]],2),i("el-table-column",{attrs:{prop:"cardNo","min-width":"295",label:"证件号码"}}),i("el-table-column",{attrs:{prop:"mobile","min-width":"295",label:"手机号码"}})],1),i("div",{staticClass:"dot-title mt-30"},[t._v(" 联系人信息 ")]),i("div",{staticClass:"dot-hr"}),i("div",{staticClass:"flex-split-box mt-20"},[i("p",[t._v("姓名:"+t._s(t.orderDetail.contactName))]),i("p",[t._v("手机号码:"+t._s(t.orderDetail.contactMobile||"-"))])]),i("div",{staticClass:"dot-title mt-30"},[t._v(" 保险服务 ")]),i("div",{staticClass:"dot-hr"}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.orderDetail.insuranceType,expression:"!orderDetail.insuranceType"}]},[i("p",{staticStyle:{"text-align":"center","font-size":"14px","margin-top":"20px",color:"#666"}},[t._v("无订购保险")])]),t._l(t.orderDetail.passengers,(function(e,r){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.orderDetail.insuranceType,expression:"orderDetail.insuranceType"}],key:"pas"+r,staticClass:"flex-split-box mt-20"},[i("p",[t._v("姓名:"+t._s(e.name))]),i("p",[t._v("购买险种："+t._s(t.insTypes[t.orderDetail.insuranceType]))])])}))],2)],1)])},s=[],n=i("5a0c"),a=i.n(n),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return""===t||"undefined"===typeof t||null===t?"":a()(t).format(e)},c=i("d83f"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-order-item"},[i("div",{staticClass:"tag"},[t._v(t._s(t.index?"返程":"去程"))]),i("p",{staticClass:"dt"},[t._v(t._s(t.timestampToTime(t.item.ticketsDate,"MM月DD日"))+"（"+t._s(t.item.ticketsWeek)+"） "+t._s(t.item.fromCity)+" — "+t._s(t.item.toCity))]),i("div",{staticClass:"position-box"},[i("div",{staticClass:"s-item position-item"},[i("b",[t._v(t._s(t.timestampToTime(t.item.ticketsDate,"HH:mm")))]),i("span",[t._v(t._s(t.item.fromAirport)+t._s(t.item.fromTerminal))])]),i("div",{staticClass:"center-space"},[i("p",[i("i",{staticClass:"clock-ico"}),t._v(t._s(t.item.flyDuration.replace(":","h"))+"m")]),i("div",{staticClass:"arrow"})]),i("div",{staticClass:"e-item position-item"},[i("b",[t._v(t._s(t.timestampToTime(t.item.ticketsToDate,"HH:mm")))]),i("span",[t._v(t._s(t.item.toAirport)+t._s(t.item.toTerminal))])])]),i("div",{staticClass:"flight"},[i("div",{staticClass:"ico"},[i("img",{attrs:{src:t.item.logo}})]),i("div",{staticClass:"detail"},[i("p",[t._v(t._s(t.item.airlineName)+" "+t._s(t.item.flightNo))]),i("span",[t._v(t._s(["经济舱","公务舱","头等舱"][t.item.cabinLevel-1]))])])])])},d=[],l=(i("a9e3"),{name:"TicketItem",components:{},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:0}},data:function(){return{}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{timestampToTime:o},destroyed:function(){}}),f=l,m=(i("66a5"),i("2877")),h=i("3834"),v=i.n(h),p=Object(m["a"])(f,u,d,!1,null,"be0bc55e",null);"function"===typeof v.a&&v()(p);var $=p.exports,_=i("0468"),g=(i("44cf"),i("afb9")),D={name:"page",components:{TicketItem:$},props:{},data:function(){return{clockTimer:null,orderStuTexts:{0:"待支付",1:"待出票",2:"待出行",3:"已取消",4:"出票失败",5:"已完成",6:"已取消",7:"已取消"},orderStuMessages:{0:"航班价格变动频繁，请尽快支付",3:"抱歉，您的订单已取消",6:"抱歉，因超时未支付订单已取消",7:"抱歉，您的订单已关闭"},orderStuIcons:{0:_,3:g,6:g,7:g},clockText:"",loading:!1,teamInfoList:[],orderDetail:{},insTypes:{1:"航空意外险",2:"航意航延组合险",3:"航意航延组合险、航空意外险"},orderStu:0}},computed:{},created:function(){this.getDetail()},mounted:function(){},watch:{},methods:{timestampToTime:o,getDetail:function(){var t=this;c["a"].Air.getOrderDetail({page:1,limit:1,orderNo:this.$route.query.no}).then((function(e){var i=e.data;t.orderDetail=i.data.records[0],t.orderStu=t.orderDetail.orderStatus,0===t.orderStu&&t.clock()})).catch((function(){t.$message.error("数据获取失败，请刷新重试")}))},clock:function(){var t=this,e=this.orderDetail.orderTime,i=e+12e5;this.clockTimer=setInterval((function(){if(Date.now()>i&&0===t.orderStu)t.orderStu=6,clearInterval(t.clockTimer);else{var e=~~((i-Date.now())/1e3);t.clockText=~~(e/60)+"分"+~~(e%60)+"秒"}}),1e3)},cancelOrder:function(){var t=this;this.$confirm("是否取消该订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c["a"].Air.cancelOrder(t.orderDetail.orderNo).then((function(e){var i=e.data;200===i.code?(t.getDetail(),t.$message.success("取消成功")):t.$message.error(i.msg)})).catch((function(){t.$message.error("取消失败，请重试")}))})).catch((function(){}))}},beforeDestroy:function(){this.clockTimer&&clearInterval(this.clockTimer)},destroyed:function(){}},y=D,w=(i("9c7d"),i("a261")),S=i.n(w),T=Object(m["a"])(y,r,s,!1,null,"0df287d1",null);"function"===typeof S.a&&S()(T);e["default"]=T.exports},3834:function(t,e){},"44cf":function(t,e){t.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/has_ticket_fail.9c68fec3.png"},"5a0c":function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){"use strict";var t="millisecond",e="second",i="minute",r="hour",s="day",n="week",a="month",o="quarter",c="year",u="date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,i){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(i)+t},h={s:m,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),r=Math.floor(i/60),s=i%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(s,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var r=12*(i.year()-e.year())+(i.month()-e.month()),s=e.clone().add(r,a),n=i-s<0,o=e.clone().add(r+(n?-1:1),a);return+(-(r+(i-s)/(n?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(d){return{M:a,y:c,w:n,d:s,D:u,h:r,m:i,s:e,ms:t,Q:o}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",p={};p[v]=f;var $=function(t){return t instanceof y},_=function(t,e,i){var r;if(!t)return v;if("string"==typeof t)p[t]&&(r=t),e&&(p[t]=e,r=t);else{var s=t.name;p[s]=t,r=s}return!i&&r&&(v=r),r||!i&&v},g=function(t,e){if($(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new y(i)},D=h;D.l=_,D.i=$,D.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var y=function(){function f(t){this.$L=_(t.locale,null,!0),this.parse(t)}var m=f.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(d);if(r){var s=r[2]-1||0,n=(r[7]||"0").substring(0,3);return i?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,n)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,n)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return D},m.isValid=function(){return!("Invalid Date"===this.$d.toString())},m.isSame=function(t,e){var i=g(t);return this.startOf(e)<=i&&i<=this.endOf(e)},m.isAfter=function(t,e){return g(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<g(t)},m.$g=function(t,e,i){return D.u(t)?this[e]:this.set(i,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,o){var d=this,l=!!D.u(o)||o,f=D.p(t),m=function(t,e){var i=D.w(d.$u?Date.UTC(d.$y,e,t):new Date(d.$y,e,t),d);return l?i:i.endOf(s)},h=function(t,e){return D.w(d.toDate()[t].apply(d.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),d)},v=this.$W,p=this.$M,$=this.$D,_="set"+(this.$u?"UTC":"");switch(f){case c:return l?m(1,0):m(31,11);case a:return l?m(1,p):m(0,p+1);case n:var g=this.$locale().weekStart||0,y=(v<g?v+7:v)-g;return m(l?$-y:$+(6-y),p);case s:case u:return h(_+"Hours",0);case r:return h(_+"Minutes",1);case i:return h(_+"Seconds",2);case e:return h(_+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(n,o){var d,l=D.p(n),f="set"+(this.$u?"UTC":""),m=(d={},d[s]=f+"Date",d[u]=f+"Date",d[a]=f+"Month",d[c]=f+"FullYear",d[r]=f+"Hours",d[i]=f+"Minutes",d[e]=f+"Seconds",d[t]=f+"Milliseconds",d)[l],h=l===s?this.$D+(o-this.$W):o;if(l===a||l===c){var v=this.clone().set(u,1);v.$d[m](h),v.init(),this.$d=v.set(u,Math.min(this.$D,v.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[D.p(t)]()},m.add=function(t,o){var u,d=this;t=Number(t);var l=D.p(o),f=function(e){var i=g(d);return D.w(i.date(i.date()+Math.round(e*t)),d)};if(l===a)return this.set(a,this.$M+t);if(l===c)return this.set(c,this.$y+t);if(l===s)return f(1);if(l===n)return f(7);var m=(u={},u[i]=6e4,u[r]=36e5,u[e]=1e3,u)[l]||1,h=this.$d.getTime()+t*m;return D.w(h,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=D.z(this),s=this.$locale(),n=this.$H,a=this.$m,o=this.$M,c=s.weekdays,u=s.months,d=function(t,r,s,n){return t&&(t[r]||t(e,i))||s[r].substr(0,n)},f=function(t){return D.s(n%12||12,t,"0")},m=s.meridiem||function(t,e,i){var r=t<12?"AM":"PM";return i?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,"0"),MMM:d(s.monthsShort,o,u,3),MMMM:d(u,o),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:d(s.weekdaysMin,this.$W,c,2),ddd:d(s.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(n),HH:D.s(n,2,"0"),h:f(1),hh:f(2),a:m(n,a,!0),A:m(n,a,!1),m:String(a),mm:D.s(a,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:r};return i.replace(l,(function(t,e){return e||h[t]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(t,u,d){var l,f=D.p(u),m=g(t),h=6e4*(m.utcOffset()-this.utcOffset()),v=this-m,p=D.m(this,m);return p=(l={},l[c]=p/12,l[a]=p,l[o]=p/3,l[n]=(v-h)/6048e5,l[s]=(v-h)/864e5,l[r]=v/36e5,l[i]=v/6e4,l[e]=v/1e3,l)[f]||v,d?p:D.a(p)},m.daysInMonth=function(){return this.endOf(a).$D},m.$locale=function(){return p[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),r=_(t,e,!0);return r&&(i.$L=r),i},m.clone=function(){return D.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},f}(),w=y.prototype;return g.prototype=w,[["$ms",t],["$s",e],["$m",i],["$H",r],["$W",s],["$M",a],["$y",c],["$D",u]].forEach((function(t){w[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),g.extend=function(t,e){return t.$i||(t(e,y,g),t.$i=!0),g},g.locale=_,g.isDayjs=$,g.unix=function(t){return g(1e3*t)},g.en=p[v],g.Ls=p,g.p={},g}))},"66a5":function(t,e,i){"use strict";i("1d0f")},"9c7d":function(t,e,i){"use strict";i("2baf")},a261:function(t,e){},afb9:function(t,e){t.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/has_recall.718489d3.png"}}]);