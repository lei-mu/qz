(function(e){function t(t){for(var o,a,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);g&&g(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={index:0},r={index:0},i=[];function s(e){return c.p+"js/"+({layout:"layout","not-found":"not-found"}[e]||e)+"."+{"chunk-0912c3b2":"dfde6312","chunk-0c0f9e79":"71b3afe7","chunk-31190497":"7f3dfdd7","chunk-440550b6":"91f3bc54","chunk-477ccf28":"78b86318",layout:"27f559e7","not-found":"32e138a4","chunk-3e0e1442":"5cec6bd3","chunk-47b7ea10":"e248ea73","chunk-47cd4d2c":"5af58200","chunk-6fbec16c":"7fa20889","chunk-75a16532":"36f85160","chunk-0767ab7a":"661462b3","chunk-28374670":"6341a64d","chunk-29886a0a":"a36d178d","chunk-2ebdb884":"9b96a382","chunk-441c483a":"b0d648e3","chunk-2d0b95d8":"9beb54ea","chunk-461a984b":"9c35140f","chunk-9de30054":"ae461be7"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0912c3b2":1,"chunk-0c0f9e79":1,"chunk-31190497":1,"chunk-440550b6":1,"chunk-477ccf28":1,"chunk-3e0e1442":1,"chunk-47b7ea10":1,"chunk-47cd4d2c":1,"chunk-6fbec16c":1,"chunk-75a16532":1,"chunk-0767ab7a":1,"chunk-28374670":1,"chunk-29886a0a":1,"chunk-2ebdb884":1,"chunk-441c483a":1,"chunk-461a984b":1,"chunk-9de30054":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="css/"+({layout:"layout","not-found":"not-found"}[e]||e)+"."+{"chunk-0912c3b2":"36bcac18","chunk-0c0f9e79":"e9d2dae3","chunk-31190497":"aae3457e","chunk-440550b6":"28032071","chunk-477ccf28":"67a1b2aa",layout:"31d6cfe0","not-found":"31d6cfe0","chunk-3e0e1442":"e3f5ae82","chunk-47b7ea10":"5ecf399d","chunk-47cd4d2c":"a5091c0f","chunk-6fbec16c":"9b320032","chunk-75a16532":"0292a49b","chunk-0767ab7a":"b1cd485a","chunk-28374670":"f1e71631","chunk-29886a0a":"5091945a","chunk-2ebdb884":"f5c66238","chunk-441c483a":"9cb1b30f","chunk-2d0b95d8":"31d6cfe0","chunk-461a984b":"0b02f417","chunk-9de30054":"fc8e8c87"}[e]+".css",r=c.p+o,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===r))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===o||l===r)return t()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=t,g.onerror=function(t){var o=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete a[e],g.parentNode.removeChild(g),n(i)},g.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(g)})).then((function(){a[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(g);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}r[e]=void 0}};var g=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var g=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0925":function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__android-down.85ce24b4.png"},"0d50":function(e,t,n){"use strict";n("8b00")},"0feb":function(e,t,n){"use strict";n("31e6")},2431:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__hide-pass.6f4e9baf.png"},"31e6":function(e,t,n){},3263:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"step-card"},[n("div",{staticClass:"inner-box"},e._l(e.steps,(function(t,o){return n("div",{key:"step"+o,staticClass:"step-item",class:{active:e.activeIndex===o||e.activeIndex>o}},[n("span",{staticClass:"num"},[e._v(e._s(o+1))]),n("p",[e._v(e._s(t))])])})),0)])},a=[],r=(n("a9e3"),{name:"BaseStepBar",components:{},props:{steps:{type:Array,default:function(){return["乘客信息","订单确认","支付","完成"]}},activeIndex:{type:Number,default:0}},data:function(){return{}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},destroyed:function(){}}),i=r,s=(n("0feb"),n("2877")),c=n("5f5f"),u=n.n(c),l=Object(s["a"])(i,o,a,!1,null,"1e7e987e",null);"function"===typeof u.a&&u()(l);t["default"]=l.exports},4360:function(e,t,n){"use strict";n("d3b7"),n("96cf");var o=n("1da1"),a=n("8bbf"),r=n.n(a),i=n("5880"),s=n.n(i),c=n("c24f"),u=n("5c96"),l=n("be65"),d=n.n(l),g="/",f=!1,m=d.a.withAttributes({path:g,domain:f?void 0:".gcw.net"}),p="token",h=(n("99af"),n("4160"),n("4ec9"),n("b64b"),n("3ca3"),n("159b"),n("ddb0"),n("d83f")),_=n("570c"),b=n("a078"),v={namespaced:!0,state:{airCityLetterObj:{}},getters:{hasAirCityData:function(e){return 0!==Object.keys(e.airCityLetterObj).length},airAllCityList:function(e){var t=_(e.airCityLetterObj);delete t.hotCity;for(var n=Object.keys(t),o=[],a=0,r=n.length;a<r;a++)o=o.concat(t[n[a]]);return o},airCityLetterData:function(e){var t=_(e.airCityLetterObj);if(0===Object.keys(t).length)return[];var n=_(t.hotCity);delete t.hotCity;var o=[{name:"热门",key:"hotCity",list:b(n,"cityCode")}],a=[],r=Object.keys(t);return r.sort(),r.forEach((function(e){a.push({name:e,key:e,list:b(t[e],"cityCode")})})),console.log(o.concat(a)),o.concat(a)},airCityCodeMap:function(e,t){var n=new Map;return t.airAllCityList.forEach((function(e){n.set(e.cityCode,e)})),n}},mutations:{setAirCity:function(e,t){e.airCityLetterObj=t}},actions:{getAirCity:function(e){var t=e.commit;return console.log(333),new Promise((function(e,n){h["a"].Air.getCitys().then((function(n){var o=n.data;console.log("城市列表"),console.log(o),t("setAirCity",o.data),e(o.data)})).catch(n)}))}},modules:{}},C=n("f121");r.a.use(s.a);t["a"]=new s.a.Store({strict:!0,modules:{cityStore:v},state:{userInfo:{},token:m.get(p)||""},getters:{isLogin:function(e){return!!e.token}},mutations:{setUserinfo:function(e,t){e.userInfo=t},setToken:function(e,t){e.token=t,m.set(p,t,{expires:C["tokenExpired"]})},loginOut:function(e){console.log("调用store 的login out 方法"),e.userInfo={},e.token="",m.remove(p,{path:g})}},actions:{getUserInfo:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.abrupt("return",new Promise((function(e,t){c["a"].getUserInfo().then((function(o){var a=o.data,r=a.code,i=a.data,s=a.msg;200===r?(console.log(i),n("setUserinfo",i),e(i)):(u["Message"].warning(s),n("loginOut"),t(o))})).catch((function(e){u["Message"].error("用户信息查询失败，请重新尝试！"),t(e)}))})));case 2:case"end":return t.stop()}}),t)})))()},logOut:function(e){var t=e.commit;return c["a"].logOut().then((function(){return t("loginOut"),{result:!0}})).catch((function(e){return u["Message"].error("退出登录失败，请重新尝试！"),Promise.reject(e)}))}}})},"470e":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("base btn 2")])},a=[],r={name:"BaseBtn2"},i=r,s=n("2877"),c=Object(s["a"])(i,o,a,!1,null,"67badcca",null);t["default"]=c.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("8bbf"),a=n.n(o),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.$route.meta.keepAlive?n("keep-alive",[n("router-view")],1):n("router-view")],1)},i=[],s={name:"app",created:function(){var e=this;this.$store.dispatch("cityStore/getAirCity").catch((function(){e.$message.error("数据获取失败，请刷新重试")}))}},c=s,u=(n("5c0b"),n("2877")),l=Object(u["a"])(c,r,i,!1,null,null,null),d=l.exports,g=(n("99af"),n("96cf"),n("1da1")),f=n("6389"),m=n.n(f),p=(n("d3b7"),n("b64a")),h=[{path:"/index",name:"index",component:function(){return n.e("chunk-31190497").then(n.bind(null,"37f9"))},meta:{parentId:p["b"]}},{path:"/plane",name:"plane",component:function(){return n.e("chunk-0912c3b2").then(n.bind(null,"72dc"))},meta:{parentId:p["c"],title:"机票"}},{path:"/plane-search",name:"plane-search",component:function(){return n.e("chunk-0c0f9e79").then(n.bind(null,"8b2f"))}},{path:"/place-plane-order",name:"place-plane-order",component:function(){return n.e("chunk-477ccf28").then(n.bind(null,"9b92"))}},{path:"/plane-order-detail",name:"place-plane-detail",component:function(){return n.e("chunk-440550b6").then(n.bind(null,"3481"))}}],_=[{path:"/",redirect:"/layout"},{path:"/layout",name:"layout",component:function(){return n.e("layout").then(n.bind(null,"93f9"))},redirect:"/index",children:h},{path:"/acs/:id",name:"layout",component:function(){return n.e("layout").then(n.bind(null,"cd93"))}},{path:"*",name:"not-found",component:function(){return n.e("not-found").then(n.bind(null,"a351"))},meta:{title:"页面不存在"}}],b=n("83d6"),v=n("c24f"),C=n("4360"),q=m.a.prototype.push;m.a.prototype.push=function(e){return q.call(this,e).catch((function(e){return e}))},a.a.use(m.a);var y=new m.a({mode:"history",base:"",routes:_});y.beforeEach(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n,o){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.meta||{},r=t.query.clientId,r?(delete t.query.clientId,v["a"].getRedis(r).then((function(e){var n=e.data,a=n.code,r=n.data;200===a&&r&&(C["a"].commit("setToken",r),C["a"].dispatch("getUserInfo")),o(t)})).catch((function(){o(t)}))):o(),i=b["title"],a.title&&(i="".concat(a.title).concat(b["titleSeparator"]).concat(b["title"])),document.title=i;case 6:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}());var w=y,k=n("5c96"),x=n.n(k);n("855b");a.a.use(x.a);n("4de4"),n("4160"),n("b64b"),n("ac1f"),n("5319"),n("159b"),n("ddb0");var L=n("5530"),E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.modalVisible?o("div",{staticClass:"aq-login__mark am-flex-rc-center",style:{zIndex:e.mIndex}},[o("div",{staticClass:"aq-login__content"},[o("div",{staticClass:"aq-login__con"},[o("div",{staticClass:"aq-login__app"},[o("div",{staticClass:"aq-login__qr-code am-flex-rc-center"},[o("img",{staticClass:"aq-login__qr-img",attrs:{src:e.appDownTypeImg,alt:"app 下载"}})]),o("div",{staticClass:"aq-login__ter-wrap"},[o("div",{staticClass:"aq-login__ter-btn am-flex-rc-center",class:{"aq-login__ter-btn--active":"ios"===e.addDownType},on:{mouseenter:function(t){return e.appDownMouseEnter("ios")}}},[e._m(0),e._v(" Iphone下载 ")]),o("div",{staticClass:"aq-login__ter-btn am-flex-rc-center",class:{"aq-login__ter-btn--active":"android"===e.addDownType},on:{mouseenter:function(t){return e.appDownMouseEnter("android")}}},[e._m(1),e._v(" Android下载 ")])])]),o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoginLoading,expression:"isLoginLoading"}],staticClass:"aq-login__login-box",attrs:{"element-loading-text":"登录中"}},[o("div",{staticClass:"aq-login__login-box-header am-flex-rc-between"},[o("div",{staticClass:"aq-login__login-type-list",class:{"aq-login__type-active":"sms"===e.loginType},on:{click:function(t){return e.loginTypeChange("sms")}}},[e._v(" 验证码登录 ")]),o("div",{staticClass:"aq-login__login-type-list",class:{"aq-login__type-active":"qrcode"===e.loginType},on:{click:function(t){return e.loginTypeChange("qrcode")}}},[e._v(" 扫一扫 ")]),o("div",{staticClass:"aq-login__login-type-list",class:{"aq-login__type-active":"account"===e.loginType},on:{click:function(t){return e.loginTypeChange("account")}}},[e._v(" 密码登录 ")])]),o("div",{staticClass:"aq-login__form-section"},[o("div",{directives:[{name:"show",rawName:"v-show",value:"sms"===e.loginType,expression:"loginType === 'sms'"}],staticClass:"aq-login__form-box"},[o("el-form",{ref:"smsFormRef",attrs:{model:e.smsFormData,rules:e.smsFormRules},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{prop:"username"}},[o("div",{staticClass:"aq-login__input-wrap"},[o("div",{staticClass:"aq-login__prefix am-flex-rc-center"},[o("img",{staticClass:"aq-login__prefix-icon",attrs:{src:n("db3e"),alt:"账号"}})]),o("el-input",{staticClass:"aq-login__input-item aq-login__input--has-prefix",attrs:{maxlength:11,placeholder:"请输入手机号码"},model:{value:e.smsFormData.username,callback:function(t){e.$set(e.smsFormData,"username",t)},expression:"smsFormData.username"}})],1)]),o("el-form-item",{attrs:{prop:"short"}},[o("div",{staticClass:"aq-login__code-wrap am-flex-rc-between"},[o("div",{staticClass:"aq-login__input-wrap aq-login__code-input-wrap"},[o("div",{staticClass:"aq-login__prefix am-flex-rc-center"},[o("img",{staticClass:"aq-login__prefix-icon",attrs:{src:n("f7b7"),alt:"密码"}})]),o("el-input",{staticClass:"aq-login__input-item aq-login__input--has-prefix aq-login__input--has-suffix-btn",attrs:{maxlength:4,placeholder:"请输入验证码"},model:{value:e.smsFormData.short,callback:function(t){e.$set(e.smsFormData,"short",t)},expression:"smsFormData.short"}})],1),o("div",{staticClass:"aq-login__code-right"},[o("el-button",{attrs:{type:"primary",loading:e.sendSmsLoading,disabled:e.smsPhoneDisabled},on:{click:e.getSmsCode}},[e._v("获取验证码"+e._s(e.smsCodeBtnFont)+" ")])],1)])]),o("el-button",{staticClass:"aq-login__submit-btn",attrs:{type:"primary",loading:e.isLoginLoading,"native-type":"submit"},on:{click:e.smsLogin}},[e._v("登录 ")]),o("div",{staticClass:"am-flex-rc-between aq-login__form-ft-link"},[o("a",{staticClass:"aq-login__form-ft-link-list",attrs:{href:e.registerPage,target:"_blank"}},[e._v("免费注册")]),o("a",{staticClass:"aq-login__form-ft-link-list",attrs:{href:e.findPassword,target:"_blank"}},[e._v("忘记密码？")])])],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"qrcode"===e.loginType,expression:"loginType === 'qrcode'"}],staticClass:"aq-login__qrcode-box"},[e._m(2),o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.getQrCodeLoading,expression:"getQrCodeLoading"}],staticClass:"aq-login__qrcode-wrap",attrs:{"element-loading-text":"二维码生成中"}},[o("canvas",{attrs:{id:"aqLoginQrCode"}}),e.qrCodeIsExpire&&!e.scanCodeSuccess?o("div",{staticClass:"aq-login__qrcode-expire am-flex-col-center"},[o("div",{staticClass:"aq-login__qrcode-expire-text"},[e._v(" 请重新刷新二维码 ")]),o("el-button",{attrs:{type:"primary"},on:{click:e.getQRCode}},[e._v("点击刷新")])],1):e._e(),e.scanCodeSuccess?o("div",{staticClass:"aq-login__qrcode-success am-flex-col-center"},[o("img",{attrs:{src:n("8dd0"),alt:"登录成功"}}),o("div",{staticClass:"aq-login__qrcode-success-text"},[e._v("扫码成功")])]):e._e(),e._m(3)])]),o("div",{directives:[{name:"show",rawName:"v-show",value:"account"===e.loginType,expression:"loginType === 'account'"}],staticClass:"aq-login__form-box"},[o("el-form",{ref:"passFormRef",attrs:{model:e.passFormData,rules:e.passFormRules},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{prop:"username"}},[o("div",{staticClass:"aq-login__input-wrap"},[o("div",{staticClass:"aq-login__prefix am-flex-rc-center"},[o("img",{staticClass:"aq-login__prefix-icon",attrs:{src:n("db3e"),alt:"账号"}})]),o("el-input",{staticClass:"aq-login__input-item aq-login__input--has-prefix",attrs:{maxlength:11,placeholder:"请输入手机号码"},model:{value:e.passFormData.username,callback:function(t){e.$set(e.passFormData,"username",t)},expression:"passFormData.username"}})],1)]),o("el-form-item",{attrs:{prop:"password"}},[o("div",{staticClass:"aq-login__input-wrap"},[o("div",{staticClass:"aq-login__prefix am-flex-rc-center"},[o("img",{staticClass:"aq-login__prefix-icon",attrs:{src:n("f7b7"),alt:"密码"}})]),o("el-input",{staticClass:"aq-login__input-item aq-login__input--has-prefix aq-login__input--has-suffix-btn",attrs:{maxlength:e.passwordMaxLength,type:e.passFormShowPass?"text":"password",placeholder:"请输入密码"},model:{value:e.passFormData.password,callback:function(t){e.$set(e.passFormData,"password",t)},expression:"passFormData.password"}})],1),o("div",{staticClass:"aq-login__suffix-btn am-flex-rc-center",on:{click:e.passFormPassTypeSwitch}},[e.passFormShowPass?o("img",{attrs:{src:n("84a5"),alt:"密码"}}):o("img",{attrs:{src:n("2431"),alt:"密码"}})])]),o("el-button",{staticClass:"aq-login__submit-btn",attrs:{type:"primary",loading:e.isLoginLoading,"native-type":"submit"},on:{click:e.accountLogin}},[e._v(" 登录 ")]),o("div",{staticClass:"am-flex-rc-between aq-login__form-ft-link"},[o("a",{staticClass:"aq-login__form-ft-link-list",attrs:{href:e.registerPage,target:"_blank"}},[e._v("免费注册")]),o("a",{staticClass:"aq-login__form-ft-link-list",attrs:{href:e.findPassword,target:"_blank"}},[e._v("忘记密码？")])])],1)],1)])])]),o("div",{staticClass:"aq-login__close am-flex-rc-center",on:{click:e.closeModal}},[o("i",{staticClass:"el-icon-circle-close"})])])]):e._e()},T=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"aq-login__ter-icon-box am-flex-rc-center"},[o("img",{staticClass:"aq-login__ter-icon",attrs:{src:n("5991"),alt:"Iphone 下载"}}),o("img",{staticClass:"aq-login__ter-icon-active",attrs:{src:n("ebc0"),alt:"Iphone 下载"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"aq-login__ter-icon-box am-flex-rc-center"},[o("img",{staticClass:"aq-login__ter-icon",attrs:{src:n("fe99"),alt:"Iphone 下载"}}),o("img",{staticClass:"aq-login__ter-icon-active",attrs:{src:n("9368"),alt:"Iphone 下载"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aq-login__qrcode-header"},[e._v(" 手机扫码 "),n("span",{staticStyle:{display:"inline-block",width:"20px"}}),e._v("安全登录 ")])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"aq-login__qrcode-ft"},[o("img",{staticClass:"aq-login__qrcode-ft-scan-icon",attrs:{src:n("f974"),alt:"扫码"}}),o("div",{staticClass:"aq-login__qrcode-ft-right"},[o("div",{staticClass:"aq-login__top-text"},[e._v("打开 "),o("span",{staticClass:"aq-login__top-name-text"},[e._v("经营帮APP")])]),o("div",{staticClass:"aq-login__bot-text"},[e._v("扫一扫")])])])}],I=(n("caad"),n("a9e3"),function(e){var t=/^1(3|4|5|6|7|8|9)\d{9}$/;return t.test(e)}),P=n("d2da"),O="https://api.sgbwl.com/memberCenter",D="https://api.sgbwl.com",A="/authentication",j="".concat(O,"/api/qrscan/createQrCode"),S="".concat(O,"/api/qrscan/queryQRCode"),U="".concat(D).concat(A,"/ov1/sms"),$="".concat(D).concat(A,"/oauth/token"),F="".concat(O,"/api/user/getCurrentUserInfo"),R=n("d055"),M=n.n(R),Q=n("cebe"),N=n.n(Q),V="Basic MTE3NTI3Njk0NDMyNjAwNDczNjo2M2NkMzYwM2Q5YTc0ZTNiYmI4ZDhiOGE5NmQ3MWVlZA==",B=N.a.create(),z={username:"",password:"",code:"0000",grant_type:"password",randomStr:"",remember_me:!1,short:""},G={},H=n("0644"),Y=6e4,X=60,Z=function(e){return"Bearer ".concat(e)},J={name:"AqLogin",props:{mIndex:{default:function(){return 500},type:[Number]},mode:{type:String,default:function(){return"userInfo"},validate:function(e){return["token","userInfo"].includes(e)}}},data:function(){var e=function(e,t,n){I(t)?n():n(new Error("请输入正确的手机号"))};return{addDownType:"ios",loginType:"sms",passFormData:H(z),passFormRules:{username:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:e,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:4,max:this.passwordMaxLength,message:"密码错误！",trigger:"blur"}]},passwordMaxLength:20,passFormShowPass:!1,registerPage:P["i"],findPassword:P["h"],smsFormData:H(G),smsFormRules:{username:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:e,trigger:"blur"}],short:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:4,message:"验证码错误！",trigger:"blur"}]},qrCodeIsExpire:!1,scanCodeSuccess:!1,createQrCodeTime:0,qrCodeTimer:null,qrCodeUUid:"",qrCodeContent:"",getQrCodeLoading:!1,sendSmsLoading:!1,smsIsCutDown:!1,smsCutDownTime:X,isLoginLoading:!1,passLoginRandomStr:"",modalVisible:!1,qrCodeContinue:!1,loginCbLock:!1}},computed:{appDownTypeImg:function(){var e={ios:n("aa44"),android:n("0925")};return e[this.addDownType]},smsPhoneDisabled:function(){return!I(this.smsFormData.username)||this.smsIsCutDown},smsCodeBtnFont:function(){return this.smsIsCutDown?"(".concat(this.smsCutDownTime,"s)"):void 0}},watch:{modalVisible:function(e){e?this.$emit("co-open"):this.$emit("co-close")}},mounted:function(){this.setRandomStr()},beforeDestroy:function(){this.clearQrCodeTimer(),this.smsTimer&&clearInterval(this.smsTimer)},methods:{appDownMouseEnter:function(e){this.addDownType=e},loginTypeChange:function(e){switch(this.loginType=e,e){case"qrcode":(this.qrCodeIsExpire||!this.qrCodeUUid)&&this.getQRCode();break}},passFormPassTypeSwitch:function(){this.passFormShowPass=!this.passFormShowPass},accountLogin:function(){var e=this;this.isLoginLoading||this.$refs.passFormRef.validate((function(t){t&&(e.isLoginLoading=!0,B.post($,{},{params:{username:e.passFormData.username,password:e.passFormData.password,grant_type:"password",code:e.passFormData.code,randomStr:e.passLoginRandomStr,remember_me:!1},headers:{Authorization:V}}).then((function(t){console.log(t);var n=t.data,o=n.code,a=n.access_token,r=n.msg;o&&1===o?(e.$message.warning(r||"登录失败，请重新尝试！"),e.isLoginLoading=!1):(e.loginMiddleware("account",{token:a}),"token"===e.mode&&(e.isLoginLoading=!1))})).catch((function(t){console.log(t),e.isLoginLoading=!1,e.hasErrorMsg(t)||e.$message.error("登录失败，请重新尝试！")})))}))},smsLogin:function(){var e=this;this.isLoginLoading||this.$refs.smsFormRef.validate((function(t){t&&(e.isLoginLoading=!0,B.post($,{},{params:{username:e.smsFormData.username,password:e.smsFormData.short,grant_type:"sms"},headers:{Authorization:V}}).then((function(t){var n=t.data,o=n.code,a=n.access_token,r=n.msg;o&&1===o?(e.$message.warning(r||"登录失败，请重新尝试！"),e.isLoginLoading=!1):(e.loginMiddleware("sms",{token:a}),"token"===e.mode&&(e.isLoginLoading=!1))})).catch((function(t){e.isLoginLoading=!1,e.hasErrorMsg(t)||e.$message.error("登录失败，请重新尝试！")})))}))},getQRCode:function(){var e=this;e.qrCodeIsExpire=!1,e.createQrCodeTime=0,e.generateUUID()},generateUUID:function(){var e=this;this.getQrCodeLoading=!0,B.get(j).then((function(t){var n=t.data,o=n.code,a=n.data;200===o&&(e.qrCodeUUid=a.key,e.qrCodeContent=a.content,e.drawQrCode(a.content),e.createQrCodeTimer(),e.qrCodeContinue=!0,e.immediateLogin()),e.getQrCodeLoading=!1})).catch((function(t){e.getQrCodeLoading=!1,e.createQrCodeError(),console.log("----二维码内容获取失败-----err-"),console.log(t),e.$message.error("生成二维码失败，请重新尝试！")}))},createQrCodeTimer:function(){var e=this;this.clearQrCodeTimer(),this.qrCodeTimer=setInterval((function(){e.createQrCodeTime+=1e3,e.createQrCodeTime===Y&&(e.qrCodeIsExpire=!0,e.clearQrCodeTimer())}),1e3)},createQrCodeError:function(){this.qrCodeIsExpire=!0,this.clearQrCodeTimer()},clearQrCodeTimer:function(){this.qrCodeTimer&&(clearInterval(this.qrCodeTimer),this.qrCodeTimer="")},isLogin:function(e){var t=this;B.get(S,{params:{uuid:e}}).then((function(e){var n=e.data,o=n.code,a=n.data;200===o&&""!==a.resourceToken?(t.scanCodeSuccess=!0,t.clearQrCodeTimer(),t.qrCodeContinue=!1,"userInfo"===t.mode&&(t.isLoginLoading=!0),t.loginMiddleware("qrcode",{token:a.resourceToken})):t.immediateLogin()})).catch((function(){t.createQrCodeError(),console.log("-----判断扫码uuid 接口调用失败")}))},immediateLogin:function(){var e=this;!this.qrCodeIsExpire&&this.qrCodeContinue&&setTimeout((function(){e.isLogin(e.qrCodeUUid)}),1e3)},loginMiddleware:function(e,t){var n=this;this.loginCbLock||(this.loginCbLock=!0,"userInfo"===this.mode?B.get(F,{headers:{Authorization:Z(t.token)}}).then((function(o){var a=o.data,r=a.code,i=a.msg,s=a.data;200===r?(t.userInfo=s,n.$emit("onLogin",e,t),n.close(e,t)):(n.$message.warning(i),n.getUserInfoErr(e)),n.isLoginLoading=!1})).catch((function(t){n.hasErrorMsg(t)||n.$message.error("登录失败，请重新尝试！"),n.getUserInfoErr(e),n.isLoginLoading=!1})):(this.$emit("onLogin",e,t),this.close(e,t)),console.log("---------登录成功-----"),console.log(e),console.log(t))},getUserInfoErr:function(e){this.scanCodeSuccess=!1,this.loginCbLock=!1,"qrcode"===e&&this.getQRCode()},drawQrCode:function(e){var t=this;this.qrCodeCanvas?M.a.toCanvas(this.qrCodeCanvas,e,{width:225,height:225},(function(e){e&&(console.log("----QRcode 生成失败---err-"),console.log(e),t.$message.error("二维码生成失败，请重新尝试！"),t.createQrCodeError())})):(console.log("没有获取到canvas 对象---001"),this.createQrCodeError(),this.$message.error("出现异常，请重新尝试！"))},getSmsCode:function(){var e=this;this.sendSmsLoading||(this.sendSmsLoading=!0,B.post(U,{uname:this.smsFormData.username,type:2,channel:2}).then((function(t){var n=t.data,o=n.code,a=n.msg;console.log(o),0===o?(e.smsIsCutDown=!0,e.smsTimer=setInterval((function(){e.smsCutDownTime--,0===e.smsCutDownTime&&(e.smsCutDownTime=X,e.smsIsCutDown=!1,clearInterval(e.smsTimer))}),1e3)):e.$message.warning(a||"发送失败，请重新尝试！"),e.sendSmsLoading=!1})).catch((function(){e.hasErrorMsg()||e.$message.warning("发送失败，请重新尝试！"),e.sendSmsLoading=!1})))},setRandomStr:function(){var e=(new Date).getTime();e=""+e+parseInt(1e3*Math.random()),this.passLoginRandomStr=e},hasErrorMsg:function(e){var t=e&&e.response;return!!(t&&t.data&&t.data.msg)&&(this.$message.error(t.data.msg),!0)},closeModal:function(){this.close()},open:function(){var e=this;this.modalVisible=!0,this.$nextTick((function(){e.qrCodeCanvas||(e.qrCodeCanvas=document.getElementById("aqLoginQrCode"))}))},close:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.modalVisible=!1,this.qrCodeContinue=!1,this.$emit("close",{type:t,data:n}),setTimeout((function(){e.$destroy(!0),e.$el.parentNode.removeChild(e.$el)}),300)}}},K=J,W=(n("0d50"),Object(u["a"])(K,E,T,!1,null,"f65761fc",null)),ee=W.exports,te=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ne=function(e,t){var n=e.$options.props;for(var o in n)"value"!==o&&te(n,o)&&te(t,o)&&(e[o]=t[o])},oe={install:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.extend(ee),a={show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t||(t=new o({el:document.createElement("div")}),document.body.appendChild(t.$el),ne(t,Object(L["a"])(Object(L["a"])({},n),e)),t.$once("hook:beforeDestroy",(function(){t=null})),t.$once("onLogin",(function(){var t;n.onLogin&&(t=n).onLogin.apply(t,arguments),e.onLogin&&e.onLogin.apply(e,arguments)})),t.$once("close",(function(t){e.onHide&&e.onHide(t)})),t.open(),console.log(t))},hide:function(){t&&t.close()},isVisible:function(){return!(!t||!t.modalVisible)},updateGlobalConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=Object(L["a"])(Object(L["a"])({},n),e)}};e.prototype.$AqLogin=a}},ae=oe,re=n("8975"),ie=n.n(re);Object.keys(ie.a).forEach((function(e){return a.a.filter(e,ie.a[e])}));var se=n("c553");se.keys().forEach((function(e){var t=se(e),n=e.replace(/^\.\/(.*)\.\w+$/,"$1");a.a.component(n,t.default||t)})),a.a.use(ae,{onLogin:function(e,t){console.log("---全局onLogin---"),console.log(e),console.log(t),C["a"].commit("setToken",t.token),C["a"].commit("setUserinfo",t.userInfo)}}),a.a.config.productionTip=!1,C["a"].getters.isLogin&&C["a"].dispatch("getUserInfo"),new a.a({router:w,store:C["a"],render:function(e){return e(d)}}).$mount("#app")},5880:function(e,t){e.exports=Vuex},5991:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__ios-btn.9a575866.png"},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5f5f":function(e,t){},6389:function(e,t){e.exports=VueRouter},"83d6":function(e,t){e.exports={title:"经营帮-食住行",titleSeparator:" | ",publicPath:"./",customerTelephone:"400-001-0051",copyrightNotice:"版权所有 Copyright ©陕西经营帮网络科技有限公司",websiteRecordNumber:"陕ICP备2020015070号-1"}},"84a5":function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__show-pass.c0278641.png"},"855b":function(e,t,n){},8975:function(e,t){},"8b00":function(e,t,n){},"8bbf":function(e,t){e.exports=Vue},"8c97":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("5c96"),a=n("4360"),r=401,i=n("b047c"),s=i((function(e){console.log("全局拦截器----error"),console.log(e);var t=e.response?e.response.status:void 0;"undefined"!==typeof t&&t===r&&(setTimeout((function(){o["Message"].error("登录失效，请重新登录")}),400),a["a"].commit("loginOut"))}),1e3,{leading:!0,trailing:!1})},"8dd0":function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__qrcode-success.ae2b8ef6.png"},9368:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__and-btn-active.2f05ce59.png"},"9c0c":function(e,t,n){},aa44:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__ios-down.3df2f70d.png"},b64a:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i}));var o="index",a="plane",r="hotel",i="train"},be65:function(e,t){e.exports=Cookies},c24f:function(e,t,n){"use strict";n("99af"),n("d3b7");var o=n("cebe"),a=n.n(o),r=n("4360"),i=n("8c97"),s=a.a.create();s.defaults.timeout=5e4,s.defaults.baseURL="https://api.sgbwl.com/memberCenter",s.interceptors.request.use((function(e){return e.headers.Authorization=r["a"].getters.isLogin?"Bearer ".concat(r["a"].state.token):"",e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e}),(function(e){return Object(i["a"])(e),Promise.reject(e)}));var c=s,u="".concat("https://api.sgbwl.com").concat("/authentication"),l="".concat("https://api.sgbwl.com").concat("/sgb-xueyuan");t["a"]={getUserInfo:function(){return c.get("/api/user/getCurrentUserInfo")},logOut:function(){return c.get("".concat(u,"/logout"))},getRedis:function(e){return c.get("".concat(l,"/tokensync/getRedisValue/").concat(e))}}},c553:function(e,t,n){var o={"./BaseBtn2.vue":"470e","./BaseStepBar.vue":"3263"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id="c553"},cebe:function(e,t){e.exports=axios},d2da:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d}));var o="https://home.gcw.net",a="".concat("https://user.gcw.net","/sign"),r="".concat("https://user.gcw.net","/passfind"),i="".concat(Object({NODE_ENV:"production",VUE_APP_API_LOGIN:"https://api.sgbwl.com",VUE_APP_API_MATERIALS:"https://api.sgbwl.com/sgb-cailiao",VUE_APP_API_USER:"https://api.sgbwl.com/memberCenter",VUE_APP_AUTH_URL_TYPE:"/authentication",VUE_APP_BASE_API:"https://api.sgbwl.com",VUE_APP_BASE_API_PREFIX:"/aquarius",VUE_APP_COOKIE:".gcw.net",VUE_APP_CURRENT_MODE:"test",VUE_APP_HOME:"https://home.gcw.net",VUE_APP_LOGISTICS:"https://api.sgbwl.com/logistics-test",VUE_APP_PERSONAL_URL:"https://user.gcw.net",VUE_APP_XUE_YUAN_BASE_API_PREFIX:"/sgb-xueyuan",BASE_URL:""}).VUE_APP_GOODS_URL,"/aboutwe"),s="".concat(o,"/contact-us"),c="".concat(o,"/service-agreement"),u="".concat(o,"/content"),l="https://sgb-manager-client.oss-cn-beijing.aliyuncs.com/jyb/经营帮客户端.exe",d="".concat("https://user.gcw.net")},d83f:function(e,t,n){"use strict";n("d3b7");var o=n("cebe"),a=n.n(o),r=n("4360"),i=n("8c97"),s={baseURL:"https://api.sgbwl.com/aquarius",timeout:5e4},c=a.a.create(s);c.interceptors.request.use((function(e){return e.headers.Authorization=r["a"].getters.isLogin?"Bearer ".concat(r["a"].state.token):"",e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){return e}),(function(e){return Object(i["a"])(e),Promise.reject(e)}));var u=c,l="/proxy";l="";t["a"]={Air:{getCitys:function(){return u.get(l+"/cityCode/cityList")},getAirTickets:function(e){return u.post(l+"/airTicket/list",e)},getAirlineList:function(e){return u.post(l+"/airlineCode/getCodeList",e)},makeOrder:function(e){return u.post(l+"/ticketsOrder/createOrder",e)},loadMember:function(e){return u.post(l+"/passengerInfo/getPage",e)},loadOpenMember:function(e){return u.post(l+"/passengerInfo/getList",e)},getIns:function(e){return u.post(l+"/insuranceInfo/getInsuranceInformation",e)},getOrderDetail:function(e){return u.post(l+"/ticketsOrder/getOrderPage",e)},cancelOrder:function(e){return u.get(l+"/ticketsOrder/cancelOrder/"+e)}}}},db3e:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__account.ae14d42e.png"},ebc0:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__ios-btn-active.7fa87cc8.png"},f121:function(e,t){e.exports={tokenExpired:14}},f7b7:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__password.900a044a.png"},f974:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__scan.967ccb95.png"},fe99:function(e,t){e.exports="https://cdn.jsdelivr.net/gh/lei-mu/qz/img/aq-login__and-btn.bc886e22.png"}});