(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-032704fd"],{2532:function(e,t,n){"use strict";var r=n("23e7"),a=n("5a34"),i=n("1d80"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(i(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),i=n("b622"),o=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},"4fbc":function(e,t,n){},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,n){var r=n("b622"),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},b2f8:function(e,t,n){},bf37:function(e,t,n){"use strict";n("4fbc")},c975:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").indexOf,i=n("a640"),o=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(e){return c?s.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},caad:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").includes,i=n("44d2"),o=n("ae40"),s=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d249:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-nav"},[n("div",{staticClass:"co-main header-nav__content am-flex-row-center"},[n("div",{staticClass:"header-nav__left-menu am-flex-row-center"},e._l(e.windowMenuShow,(function(t){return n("span",{key:t.id,ref:"menuListRef",refInFor:!0,staticClass:"am-inline-block header-nav__menu-list",class:{active:t.path===e.currentMenu},on:{click:function(n){return e.navTo(t)}}},[e._v(e._s(t.meta.Title))])})),0),0!==e.floatingWindow.length?n("div",[n("el-popover",{attrs:{placement:"bottom",width:"150px",trigger:"hover","popper-class":"header-nav__more-pop"}},[n("span",{staticClass:"header-nav__more",attrs:{slot:"reference"},slot:"reference"},[n("i",{staticClass:"el-icon-more header-nav__more-icon"})]),n("div",{staticClass:"header-nav__other-menu"},e._l(e.floatingWindow,(function(t){return n("div",{key:t.id,staticClass:"header-nav__other-menu-list am-text-eill",class:{active:t.path===e.currentMenu},on:{click:function(n){return e.navTo(t)}}},[e._v(e._s(t.meta.Title)+" ")])})),0)])],1):e._e()]),n("EnterpriseCertification",{ref:"enterpriseDialog"}),n("PersonalAuth",{ref:"personalAuthDialog"}),n("EnterpriseAuth",{ref:"enterpriseAuthDialog"})],1)},a=[],i=(n("4de4"),n("caad"),n("c975"),n("fb6a"),n("b0c0"),n("d3b7"),n("2532"),n("96cf"),n("1da1")),o=n("f121"),s=n("c24f"),c=function(){window.open(Object({NODE_ENV:"production",VUE_APP_API_LOGIN:"https://api.sgbwl.com",VUE_APP_API_MATERIALS:"https://api.sgbwl.com/sgb-cailiao",VUE_APP_API_USER:"https://api.sgbwl.com/memberCenter",VUE_APP_AUTH_URL_TYPE:"/authentication",VUE_APP_BASE_API:"https://api.sgbwl.com",VUE_APP_BASE_API_PREFIX:"/memberCenter",VUE_APP_BASE_API_PROXY:"/proxy",VUE_APP_CAI_LIAO_API_PREFIX:"/sgb-cailiao",VUE_APP_COOKIE:".jyb-test.cn",VUE_APP_CURRENT_MODE:"test",VUE_APP_ENTERPRISE_API_PREFIX:"/enterprise-managerment",VUE_APP_HOME:"https://home.gcw.net",VUE_APP_LOGISTICS:"https://api.sgbwl.com/logistics-test",VUE_APP_LOGISTICS_API_PREFIX:"/logistics-test",VUE_APP_PERSONAL_URL:"https://user.gcw.net",VUE_APP_USER_PAGE_API_PREFIX:"/jyb-user-page",VUE_APP_XUE_YUAN_BASE_API_PREFIX:"/sgb-xueyuan",BASE_URL:"https://cdn.jsdelivr.net/gh/lei-mu/qz/"}).VUE_APP_QIGUANBANG)},u=(n("99af"),n("b449")),l=n("7cd9"),f=function(e){return l["a"].get("".concat(u["b"],"/v1/organization/isUserInCompany/").concat(e))},h=16,d=500,_={name:"HeaderNav",data:function(){return{allowShowLen:d}},components:{EnterpriseCertification:function(){return n.e("chunk-9a7ac87a").then(n.bind(null,"d281"))},PersonalAuth:function(){return n.e("chunk-48abd54b").then(n.bind(null,"e007"))},EnterpriseAuth:function(){return n.e("chunk-1f2e3ca9").then(n.bind(null,"54e4"))}},computed:{routerOptions:function(){return this.$store.state.route.routes},defaultMenu:function(){return this.routerOptions.filter((function(e){return e.meta&&e.meta.isMenu&&!e.meta.hidden}))},windowMenuShow:function(){return this.defaultMenu.slice(0,this.allowShowLen)},floatingWindow:function(){return this.defaultMenu.slice(this.allowShowLen,100)},auth_user:function(){return this.$store.state.auth_user},userInfo:function(){return this.$store.state.userInfo},currentMenu:function(){return this.$store.state.menu.currentMenu}},watch:{defaultMenu:{handler:function(e){var t=this;this.$nextTick((function(){for(var n=t.$refs.menuListRef,r=0,a=e.length,i=d,s=0;s<a;s++)if(r+=n[s].offsetWidth,console.log(n[s].offsetWidth),r>o["mainWidth"]){i=r+h>o["mainWidth"]?s-1:s,console.log("菜单可以显示"+i+"个");break}t.allowShowLen=i}))},immediate:!0}},methods:{navTo:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,u,l,h,d,_,p,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(e),r=t.userInfo,a=t.auth_user,"/TeamManage"!==e.path){n.next=12;break}return n.next=6,Object(s["c"])();case 6:if(i=n.sent,o=i.data,u=o&&o.data,u&&1!==u){n.next=12;break}return t.$alert("您的权限已被禁用，请联系管理员为您开通！","提示",{confirmButtonText:"我知道了",center:!0}),n.abrupt("return");case 12:if(l=r.userRole,a.identifiers&&a.identifiers.includes(e.name)?"/Hgcgl"===e.path?1===l||0!==l||r.relevance?c():t.$refs.enterpriseDialog.coOpen():t.$store.commit("menu/SET_CURRENT_MENU",e.path):"/Hgcgl"===e.path?t.toOther(e.path):t.$store.commit("menu/SET_CURRENT_MENU",e.path),h=["/TeamManage","/tbbj","/qzgl","/attention","/Hpzgl","/WLYS","/"],h.includes(e.path)||0!==r.personalAuth){n.next=18;break}return t.$refs.personalAuthDialog.coOpen(),n.abrupt("return",!0);case 18:return d=["/Hshop","/ZCJY","/hygl","/hygl","/wzgl","/Hgcgl"],_=d.includes(e.path),n.next=22,f(r.no);case 22:if(p=n.sent,m=p.data,1===l||0!==l||r.relevance||!_||m.data){n.next=27;break}return t.$refs.enterpriseDialog.coOpen(),n.abrupt("return");case 27:if("Index"!==e.name){n.next=31;break}return t.$store.commit("menu/SET_CURRENT_MENU",""),"/"!==t.$route.path&&(console.log(t.$route),t.$router.push({path:"/"})),n.abrupt("return");case 31:a.identifiers.indexOf(e.name)>-1?"/Hgcgl"===e.path?c():t.$store.commit("menu/SET_CURRENT_MENU",e.path):"/Hgcgl"===e.path?t.toOther(e.path):t.$store.commit("menu/SET_CURRENT_MENU",e.path);case 32:case"end":return n.stop()}}),n)})))()},toOther:function(e){var t=["/Hzlgl","/Hlabor"],n=["/Hgcgl","/Hshop","/ZCJY","/ZSFX"],r=t.includes(e),a=n.includes(e),i=0===this.userInfo.personalAuth,o=0===this.userInfo.userRole;return!(!o&&!o)&&(!r&&i?(this.$refs.personalAuthDialog.coOpen(),!0):!(!a||!o)&&(this.$refs.enterpriseAuthDialog.coOpen(),!0))}}},p=_,m=(n("fb2d"),n("bf37"),n("2877")),E=Object(m["a"])(p,r,a,!1,null,"7735d189",null);t["default"]=E.exports},fb2d:function(e,t,n){"use strict";n("b2f8")}}]);